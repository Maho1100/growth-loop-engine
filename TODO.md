# TODO — 2週間スプリント

## Day 1: 初期構築

- [ ] DB設計FIX・マイグレーション実行
- [ ] FastAPIプロジェクト初期化
- [ ] テーブル3つが存在し、空のAPIが起動する

## Day 2-3: POST /v1/events

- [ ] イベントバッチ記録の実装
- [ ] event_type 命名規約バリデーション（正規表現 + 長さ + 禁止文字）
- [ ] payload サイズ上限チェック（8KB）
- [ ] 100件バッチが1秒以内に書き込める

## Day 4-5: GET /v1/users/{id}/events

- [ ] イベント履歴取得の実装
- [ ] event_type・日時フィルタ
- [ ] offset ページネーション（limit最大100）

## Day 6-7: GET /v1/users/{id}/summary

- [ ] ストリーク（連続学習日数）計算
- [ ] 週間学習頻度の集計
- [ ] 平均セッション時間の集計（10秒〜4時間フィルタ）
- [ ] テストデータで正しい値が返る

## Day 8: エラーハンドリング・ロギング

- [ ] RFC 7807 Problem Details 形式に統一
- [ ] ロギング整備

## Day 9: テスト

- [ ] pytest：正常系・異常系・境界値
- [ ] カバレッジ80%以上

## Day 10: 仕上げ

- [ ] OpenAPI YAML 最終確認
- [ ] README更新
- [ ] デプロイ・本番稼働確認
